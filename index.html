<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WGU: D089 Principles of Economics OA Exam Quiz</title>
  <!-- original style preserved -->
</head>
<body>
  <!-- unchanged HTML layout -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // Example section range for demonstration
      const section = 0; // Adjust as needed based on current section logic
      const questionsPerSection = 50;
      const start = section * questionsPerSection;
      const end = start + questionsPerSection;

      for (let i = start; i < end; i++) {
        const q = quizData[i];
        const questionDiv = document.createElement("div");
        questionDiv.className = "question";

        const questionText = document.createElement("p");
        questionText.innerHTML = `<strong>Q${i + 1}:</strong> ${q.question}`;
        questionDiv.appendChild(questionText);

        const correctAnswer = document.createElement("p");
        correctAnswer.innerHTML = `<strong>Correct Answer:</strong> ${q.correct}`;
        questionDiv.appendChild(correctAnswer);

        const explanation = document.createElement("p");
        explanation.innerHTML = `<strong>Explanation:</strong> ${q.explanation}`;
        questionDiv.appendChild(explanation);

        const userInput = document.querySelector(`input[name='question${i}']:checked`);
        if (userInput) {
          const userAnswer = quizData[i].choices[userInput.value];
          if (userAnswer !== q.correct) {
            const userWrong = document.createElement("p");
            userWrong.innerHTML = `<strong>Your Answer:</strong> ${userAnswer}`;
            userWrong.style.color = "red";
            questionDiv.appendChild(userWrong);
          }
        }

        reviewDiv.appendChild(questionDiv);
      }

      // Handle error gracefully if quizData is not available
      if (typeof quizData === 'undefined') {
        const quizContainer = document.getElementById("quiz") || document.body;
        const errorMsg = document.createElement("p");
        errorMsg.style.color = "red";
        errorMsg.innerText = "Failed to load quiz-data.json. Please ensure it exists and is accessible.";
        quizContainer.appendChild(errorMsg);
        return;
      }

      // rest of code continues unchanged
    });
  </script>
</body>
</html>
